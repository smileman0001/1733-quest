<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!--<title>Первое испытание</title>-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Quest!</title>
  </head>

  <body>
    <div class="wrapper">
    <header class = "header">
        <div class="header__conteiner _container">
          <a href="" class="header__logo">
            <h1 class="logo_1733 _logo">
              Проект
            </h1>
          </a>
          <a href="" class="header__logo">
            <h1 class="logo_1733 _logo">
              Карта
            </h1>
          </a>
          <a href="">
            <h1 class="logo_1733 _logo">
              Караван
            </h1>
          </a>
          <h1 class="logo_1733 _logo logo_quest">
            Квест
          </h1>
          <a href="" class="header__logo">
            <h1 class="logo_1733 _logo">
              Этапы работы
            </h1>
          </a>
          <a href="" class="header__logo">
            <h1 class="logo_1733 _logo">
              Статьи
            </h1>
          </a>
          <a href="" class="header__logo">
            <h1 class="logo_1733 _logo">
              Авторы
            </h1>
          </a>
        </div>
      </header>
    <main>
      <!-- <script src="//code.jquery.com/jquery-1.11.0.min.js"></script> -->
      <script type="text/javascript">
        let info = ""
        let map = new Map()
        map.set("Иностранец", ["Попал в плен", "Заключил контракт"])
        map.set("Заключил контракт", ["Медик", "Горный специалист"])
        map.set("Чиновник Тобольской канцелярии", ["Работа в горном начальстве", "Отправиться делопроизводителем в Кер... экспедицию"])
        map.set("Дворянин", ["Выпускник военно-артиллерийской школы", "Прибыли в команде В.И. Ген..."])
        map.set("Выпускник военно-артиллерийской школы", ["Учиться горному делу (Штифт)", "..."])
        map.set("Прибыли в команде В.И. Ген...", ["Остаться адьютантом Ген...", "Отправиться к земским делам (Управлять дистриктом)"])
        function toggleText(btn) {
          let str = btn.innerHTML;
          console.log(str);
          document.getElementById('history').textContent = str;
          if(map.has(str))
          {
            let obj = map.get(str);
            console.log(obj);
            if (obj.count > 2)
            {
              document.getElementById('button1').textContent = obj[0];
              document.getElementById('button2').textContent = obj[1];
              document.getElementById('button3').textContent = obj[2];
              document.getElementById('button4').textContent = obj[3];
            }
            else
            {
              document.getElementById('button1').textContent = obj[0];
              document.getElementById('button2').textContent = obj[1];
              off_butt("button3");
              off_butt("button4");
            }
          }
          else
          {
            document.getElementById('history').style.height = "500px";
            document.getElementById('history').textContent = "Конец";
            off_butt("button1");
            off_butt("button2");
            off_butt("button3");
            off_butt("button4");
          }
        }
        function off_butt (elem) {
          document.getElementById(elem).style.opacity = 0;
          document.getElementById(elem).disabled = true;
        }
        //document.getElementById('button1').addEventListener('click', toggleText);
      </script>
      <!-- <div class="qusetion_counter">
        1 / 3
      </div> -->
      <div class="history" id = "history">
        Начало карьеры
      </div>
      <section class="answers">
        <div class = "button1">
          <button id = "button1"  class="button" onclick="toggleText(this)">Иностранец</button>
        </div>
        <div class = "button2">
          <button id = "button2"  class="button" onclick="toggleText(this)">Отставной офицер Семеновского или Преображенского полка</button>
        </div>
        <div class = "button3">
          <button id = "button3"  class="button" onclick="toggleText(this)">Дворянин</button>
        </div>
        <div class = "button4">
          <button id = "button4"  class="button" onclick="toggleText(this)">Чиновник Тобольской канцелярии</button>
        </div>
      </section>
    </main>
    <!-- <footer>
      Подвал сайта
    </footer> -->
  </div>
  </body>
</html>
